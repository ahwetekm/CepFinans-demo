(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[253],{6101:(e,r,t)=>{"use strict";t.d(r,{s:()=>i,t:()=>s});var a=t(12115);function n(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function s(...e){return r=>{let t=!1,a=e.map(e=>{let a=n(e,r);return t||"function"!=typeof a||(t=!0),a});if(t)return()=>{for(let r=0;r<a.length;r++){let t=a[r];"function"==typeof t?t():n(e[r],null)}}}}function i(...e){return a.useCallback(s(...e),e)}},19946:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var a=t(12115);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),i=e=>{let r=s(e);return r.charAt(0).toUpperCase()+r.slice(1)},o=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()},l=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:m,...g}=e;return(0,a.createElement)("svg",{ref:r,...u,width:n,height:n,stroke:t,strokeWidth:i?24*Number(s)/Number(n):s,className:o("lucide",c),...!d&&!l(g)&&{"aria-hidden":"true"},...g},[...m.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),d=(e,r)=>{let t=(0,a.forwardRef)((t,s)=>{let{className:l,...u}=t;return(0,a.createElement)(c,{ref:s,iconNode:r,className:o("lucide-".concat(n(i(e))),"lucide-".concat(e),l),...u})});return t.displayName=i(e),t}},30285:(e,r,t)=>{"use strict";t.d(r,{$:()=>l});var a=t(95155);t(12115);var n=t(99708),s=t(74466),i=t(59434);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:r,variant:t,size:s,asChild:l=!1,...u}=e,c=l?n.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:t,size:s,className:r})),...u})}},32919:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(19946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},35695:(e,r,t)=>{"use strict";var a=t(18999);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},40283:(e,r,t)=>{"use strict";t.d(r,{A:()=>c,AuthProvider:()=>u});var a=t(95155),n=t(12115),s=t(42099),i=t(35695);let o=()=>{let e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e,e=>e.toString(16).padStart(2,"0")).join("")},l=(0,n.createContext)(void 0);function u(e){let{children:r}=e,[u,c]=(0,n.useState)(null),[d,m]=(0,n.useState)(null),[g,h]=(0,n.useState)(!0),f=(0,i.useRouter)();(0,n.useEffect)(()=>{if((async()=>{if(!s.N){console.error("Supabase client not initialized"),h(!1);return}let{data:{session:e},error:r}=await s.N.auth.getSession();if(r)console.error("Error getting session:",r);else{var t;m(e),c(null!=(t=null==e?void 0:e.user)?t:null)}h(!1)})(),s.N){let{data:{subscription:e}}=s.N.auth.onAuthStateChange(async(e,r)=>{var t;console.log("Auth state changed:",e,r),m(r),c(null!=(t=null==r?void 0:r.user)?t:null),h(!1),(null==r?void 0:r.user)&&(v(r.user),f.push("/app"))});return()=>e.unsubscribe()}},[]);let v=async e=>{try{var r,t;if(!s.N)return void console.error("Supabase client not initialized");let{error:a}=await s.N.from("profiles").upsert({id:e.id,email:e.email,full_name:(null==(r=e.user_metadata)?void 0:r.full_name)||null,avatar_url:(null==(t=e.user_metadata)?void 0:t.avatar_url)||null,updated_at:new Date().toISOString()});a&&console.error("Error creating/updating profile:",a)}catch(e){console.error("Error in createOrUpdateProfile:",e)}},p=async(e,r,a)=>{try{if(!s.N)return{error:{message:"Supabase client not initialized"}};console.log("Attempting to sign up with email:",e),console.log("Password length:",r.length),console.log("Full name:",a),h(!0);let{data:n}=await s.N.from("profiles").select("email").eq("email",e.trim().toLowerCase()).single();if(n)return h(!1),{error:{message:"Bu email adresi zaten kayıtlı."}};let{data:i,error:l}=await s.N.auth.signUp({email:e.trim().toLowerCase(),password:r,options:{data:{full_name:a||null,email_verified:!1}}});if(console.log("Supabase response:",{data:i,error:l}),l)return h(!1),{error:l};if(i.user&&!i.session)try{let r=o();await s.N.from("email_verifications").insert({user_id:i.user.id,email:e.trim().toLowerCase(),token:r,expires_at:new Date(Date.now()+864e5).toISOString(),created_at:new Date().toISOString()});let{EmailService:n}=await t.e(788).then(t.bind(t,20788)),l=n.getInstance();l.generateVerificationUrl(e.trim().toLowerCase(),r);let u=l.createVerificationEmail(e.trim().toLowerCase(),r,a||void 0),c=await l.sendEmail(u);c.success?console.log("Doğrulama emaili başarıyla g\xf6nderildi"):console.error("Email g\xf6nderilemedi:",c.error)}catch(e){console.error("Email g\xf6nderme hatası:",e)}return h(!1),{error:l}}catch(e){return console.error("Signup error:",e),h(!1),{error:e}}},w=async(e,r)=>{try{if(!s.N)return{error:{message:"Supabase client not initialized"}};console.log("Attempting to sign in with email:",e),console.log("Password length:",r.length),h(!0);let{data:t,error:a}=await s.N.auth.signInWithPassword({email:e.trim().toLowerCase(),password:r});return console.log("Supabase sign in response:",{data:t,error:a}),h(!1),{error:a}}catch(e){return console.error("Signin error:",e),h(!1),{error:e}}},x=async()=>{try{if(!s.N)return void console.error("Supabase client not initialized");await s.N.auth.signOut()}catch(e){console.error("Error signing out:",e)}},b=async e=>{try{if(!s.N)return{error:{message:"Supabase client not initialized"}};console.log("Attempting to reset password for email:",e);let{error:r}=await s.N.auth.resetPasswordForEmail(e.trim().toLowerCase());return console.log("Password reset response:",{error:r}),{error:r}}catch(e){return console.error("Password reset error:",e),{error:e}}},y=async()=>{try{if(!s.N)return void console.error("Supabase client not initialized");let{data:{session:e}}=await s.N.auth.getSession();(null==e?void 0:e.user)&&(m(e),c(e.user),await v(e.user))}catch(e){console.error("Error updating user:",e)}};return(0,a.jsx)(l.Provider,{value:{user:u,session:d,loading:g,signUp:p,signIn:w,signOut:x,resetPassword:b,updateUser:y},children:r})}function c(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},42099:(e,r,t)=>{"use strict";t.d(r,{E:()=>o,N:()=>i});var a=t(77271);let n="https://uizazhyshhazgmqrzxfq.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVpemF6aHlzaGhhemdtcXJ6eGZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5MjU4MjIsImV4cCI6MjA3OTUwMTgyMn0.kPLcu-vVhFEgZP-YFQuqrFH3DA2ozZUQTNBMYw_yfSQ",i=null,o=null;n&&s&&(i=(0,a.UU)(n,s,{global:{headers:{Accept:"application/json"}}}))},51470:(e,r,t)=>{"use strict";t.d(r,{default:()=>g});var a=t(95155),n=t(12115),s=t(35695),i=t(40283),o=t(66695),l=t(30285),u=t(32919),c=t(92138),d=t(6874),m=t.n(d);function g(e){let{children:r}=e,{user:t,loading:d}=(0,i.A)(),g=(0,s.useRouter)();return((0,n.useEffect)(()=>{d||t||g.push("/")},[t,d,g]),d)?(0,a.jsx)("div",{className:"min-h-screen bg-white dark:bg-gray-950 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Y\xfckleniyor..."})]})}):t?(0,a.jsx)(a.Fragment,{children:r}):(0,a.jsx)("div",{className:"min-h-screen bg-white dark:bg-gray-950 flex items-center justify-center px-6",children:(0,a.jsxs)(o.Zp,{className:"w-full max-w-md",children:[(0,a.jsxs)(o.aR,{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(u.A,{className:"w-8 h-8 text-gray-600 dark:text-gray-400"})}),(0,a.jsx)(o.ZB,{className:"text-2xl font-bold",children:"Giriş Gerekli"}),(0,a.jsx)(o.BT,{children:"Bu sayfaya erişmek i\xe7in l\xfctfen giriş yapın"})]}),(0,a.jsx)(o.Wu,{className:"space-y-4",children:(0,a.jsx)(m(),{href:"/",children:(0,a.jsxs)(l.$,{className:"w-full bg-green-600 hover:bg-green-700",children:["Ana Sayfaya D\xf6n",(0,a.jsx)(c.A,{className:"ml-2 w-4 h-4"})]})})})]})})}},57209:(e,r,t)=>{Promise.resolve().then(t.bind(t,51470))},59434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>s});var a=t(52596),n=t(39688);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.QP)((0,a.$)(r))}},66695:(e,r,t)=>{"use strict";t.d(r,{BT:()=>l,Wu:()=>u,ZB:()=>o,Zp:()=>s,aR:()=>i});var a=t(95155);t(12115);var n=t(59434);function s(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...t})}function i(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...t})}function o(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",r),...t})}function l(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",r),...t})}function u(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",r),...t})}},74466:(e,r,t)=>{"use strict";t.d(r,{F:()=>i});var a=t(52596);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=a.$,i=(e,r)=>t=>{var a;if((null==r?void 0:r.variants)==null)return s(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:i,defaultVariants:o}=r,l=Object.keys(i).map(e=>{let r=null==t?void 0:t[e],a=null==o?void 0:o[e];if(null===r)return null;let s=n(r)||n(a);return i[e][s]}),u=t&&Object.entries(t).reduce((e,r)=>{let[t,a]=r;return void 0===a||(e[t]=a),e},{});return s(e,l,null==r||null==(a=r.compoundVariants)?void 0:a.reduce((e,r)=>{let{class:t,className:a,...n}=r;return Object.entries(n).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...o,...u}[r]):({...o,...u})[r]===t})?[...e,t,a]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}},92138:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(19946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[277,271,37,441,684,358],()=>r(57209)),_N_E=e.O()}]);