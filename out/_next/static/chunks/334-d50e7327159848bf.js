"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[334],{17313:(e,t,a)=>{a.d(t,{Xi:()=>l,av:()=>d,j7:()=>o,tU:()=>i});var r=a(95155);a(12115);var s=a(60704),n=a(59434);function i(e){let{className:t,...a}=e;return(0,r.jsx)(s.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)(s.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)(s.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function d(e){let{className:t,...a}=e;return(0,r.jsx)(s.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",t),...a})}},19407:(e,t,a)=>{a.d(t,{J:()=>l});var r=a(95155),s=a(69283),n=a(30285),i=a(47835),o=a(12115);function l(){let{language:e,setLanguage:t}=(0,s.o)(),[a,l]=(0,o.useState)(!1),d=e=>{t(e),l(!1)};return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(n.$,{variant:"ghost",size:"icon",onClick:()=>l(!a),className:"relative",title:"tr"===e?"Dil Değiştir":"Change Language",children:[(0,r.jsx)(i.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:"Change language"}),(0,r.jsx)("span",{className:"absolute -top-1 -right-1 text-xs font-bold bg-primary text-primary-foreground rounded-full w-4 h-4 flex items-center justify-center",children:e.toUpperCase()})]}),a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),(0,r.jsxs)("div",{className:"absolute right-0 top-12 z-50 min-w-[120px] rounded-md border bg-popover p-1 text-popover-foreground shadow-md",children:[(0,r.jsx)(n.$,{variant:"tr"===e?"default":"ghost",size:"sm",className:"w-full justify-start",onClick:()=>d("tr"),children:"\uD83C\uDDF9\uD83C\uDDF7 T\xfcrk\xe7e"}),(0,r.jsx)(n.$,{variant:"en"===e?"default":"ghost",size:"sm",className:"w-full justify-start",onClick:()=>d("en"),children:"\uD83C\uDDFA\uD83C\uDDF8 English"})]})]})]})}},30285:(e,t,a)=>{a.d(t,{$:()=>l});var r=a(95155);a(12115);var s=a(99708),n=a(74466),i=a(59434);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:n,asChild:l=!1,...d}=e,u=l?s.DX:"button";return(0,r.jsx)(u,{"data-slot":"button",className:(0,i.cn)(o({variant:a,size:n,className:t})),...d})}},40283:(e,t,a)=>{a.d(t,{A:()=>u,AuthProvider:()=>d});var r=a(95155),s=a(12115),n=a(42099),i=a(35695);let o=()=>{let e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e,e=>e.toString(16).padStart(2,"0")).join("")},l=(0,s.createContext)(void 0);function d(e){let{children:t}=e,[d,u]=(0,s.useState)(null),[c,m]=(0,s.useState)(null),[g,f]=(0,s.useState)(!0),p=(0,i.useRouter)();(0,s.useEffect)(()=>{if((async()=>{if(!n.N){console.error("Supabase client not initialized"),f(!1);return}let{data:{session:e},error:t}=await n.N.auth.getSession();if(t)console.error("Error getting session:",t);else{var a;m(e),u(null!=(a=null==e?void 0:e.user)?a:null)}f(!1)})(),n.N){let{data:{subscription:e}}=n.N.auth.onAuthStateChange(async(e,t)=>{var a;console.log("Auth state changed:",e,t),m(t),u(null!=(a=null==t?void 0:t.user)?a:null),f(!1),(null==t?void 0:t.user)&&(v(t.user),p.push("/app"))});return()=>e.unsubscribe()}},[]);let v=async e=>{try{var t,a;if(!n.N)return void console.error("Supabase client not initialized");let{error:r}=await n.N.from("profiles").upsert({id:e.id,email:e.email,full_name:(null==(t=e.user_metadata)?void 0:t.full_name)||null,avatar_url:(null==(a=e.user_metadata)?void 0:a.avatar_url)||null,updated_at:new Date().toISOString()});r&&console.error("Error creating/updating profile:",r)}catch(e){console.error("Error in createOrUpdateProfile:",e)}},h=async(e,t,r)=>{try{if(!n.N)return{error:{message:"Supabase client not initialized"}};console.log("Attempting to sign up with email:",e),console.log("Password length:",t.length),console.log("Full name:",r),f(!0);let{data:s}=await n.N.from("profiles").select("email").eq("email",e.trim().toLowerCase()).single();if(s)return f(!1),{error:{message:"Bu email adresi zaten kayıtlı."}};let{data:i,error:l}=await n.N.auth.signUp({email:e.trim().toLowerCase(),password:t,options:{data:{full_name:r||null,email_verified:!1}}});if(console.log("Supabase response:",{data:i,error:l}),l)return f(!1),{error:l};if(i.user&&!i.session)try{let t=o();await n.N.from("email_verifications").insert({user_id:i.user.id,email:e.trim().toLowerCase(),token:t,expires_at:new Date(Date.now()+864e5).toISOString(),created_at:new Date().toISOString()});let{EmailService:s}=await a.e(788).then(a.bind(a,20788)),l=s.getInstance();l.generateVerificationUrl(e.trim().toLowerCase(),t);let d=l.createVerificationEmail(e.trim().toLowerCase(),t,r||void 0),u=await l.sendEmail(d);u.success?console.log("Doğrulama emaili başarıyla g\xf6nderildi"):console.error("Email g\xf6nderilemedi:",u.error)}catch(e){console.error("Email g\xf6nderme hatası:",e)}return f(!1),{error:l}}catch(e){return console.error("Signup error:",e),f(!1),{error:e}}},x=async(e,t)=>{try{if(!n.N)return{error:{message:"Supabase client not initialized"}};console.log("Attempting to sign in with email:",e),console.log("Password length:",t.length),f(!0);let{data:a,error:r}=await n.N.auth.signInWithPassword({email:e.trim().toLowerCase(),password:t});return console.log("Supabase sign in response:",{data:a,error:r}),f(!1),{error:r}}catch(e){return console.error("Signin error:",e),f(!1),{error:e}}},b=async()=>{try{if(!n.N)return void console.error("Supabase client not initialized");await n.N.auth.signOut()}catch(e){console.error("Error signing out:",e)}},w=async e=>{try{if(!n.N)return{error:{message:"Supabase client not initialized"}};console.log("Attempting to reset password for email:",e);let{error:t}=await n.N.auth.resetPasswordForEmail(e.trim().toLowerCase());return console.log("Password reset response:",{error:t}),{error:t}}catch(e){return console.error("Password reset error:",e),{error:e}}},j=async()=>{try{if(!n.N)return void console.error("Supabase client not initialized");let{data:{session:e}}=await n.N.auth.getSession();(null==e?void 0:e.user)&&(m(e),u(e.user),await v(e.user))}catch(e){console.error("Error updating user:",e)}};return(0,r.jsx)(l.Provider,{value:{user:d,session:c,loading:g,signUp:h,signIn:x,signOut:b,resetPassword:w,updateUser:j},children:t})}function u(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},55697:(e,t,a)=>{a.d(t,{U:()=>N});var r=a(95155),s=a(30285),n=a(91394);a(12115);var i=a(76215),o=a(59434);function l(e){let{...t}=e;return(0,r.jsx)(i.bL,{"data-slot":"dropdown-menu",...t})}function d(e){let{...t}=e;return(0,r.jsx)(i.l9,{"data-slot":"dropdown-menu-trigger",...t})}function u(e){let{className:t,sideOffset:a=4,...s}=e;return(0,r.jsx)(i.ZL,{children:(0,r.jsx)(i.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...s})})}function c(e){let{className:t,inset:a,variant:s="default",...n}=e;return(0,r.jsx)(i.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":s,className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function m(e){let{className:t,inset:a,...s}=e;return(0,r.jsx)(i.JU,{"data-slot":"dropdown-menu-label","data-inset":a,className:(0,o.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...s})}function g(e){let{className:t,...a}=e;return(0,r.jsx)(i.wv,{"data-slot":"dropdown-menu-separator",className:(0,o.cn)("bg-border -mx-1 my-1 h-px",t),...a})}var f=a(75525),p=a(381),v=a(53904),h=a(62525),x=a(34835),b=a(35695),w=a(40283),j=a(69283);function N(e){let{onAuthClick:t}=e,{t:a}=(0,j.o)(),{user:i,signOut:o}=(0,w.A)(),N=(0,b.useRouter)(),y=(0,b.usePathname)(),k=async()=>{await o(),N.push("/")},C=y.startsWith("/app");if(i){var _,z,S,A;let e=(null==(_=i.email)?void 0:_.charAt(0).toUpperCase())||"U",t=(null==(z=i.user_metadata)?void 0:z.full_name)||(null==(S=i.email)?void 0:S.split("@")[0])||"User";return(0,r.jsxs)(l,{children:[(0,r.jsx)(d,{asChild:!0,children:(0,r.jsx)(s.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,r.jsxs)(n.eu,{className:"h-8 w-8",children:[(0,r.jsx)(n.BK,{src:null==(A=i.user_metadata)?void 0:A.avatar_url,alt:t}),(0,r.jsx)(n.q5,{children:e})]})})}),(0,r.jsxs)(u,{className:"w-56",align:"end",forceMount:!0,children:[(0,r.jsx)(m,{className:"font-normal",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium leading-none",children:t}),(0,r.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:i.email})]})}),(0,r.jsx)(g,{}),!C&&(0,r.jsxs)(c,{onClick:()=>{N.push("/app")},children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Uygulamaya Git"})]}),(0,r.jsxs)(c,{onClick:()=>{N.push("/app/settings")},children:[(0,r.jsx)(p.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:a("auth.settings")||"Ayarlar"})]}),(0,r.jsx)(g,{}),(0,r.jsxs)(c,{onClick:()=>{N.push("/app/settings?tab=security&action=reset")},className:"text-orange-600",children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Verileri Sıfırla"})]}),(0,r.jsxs)(c,{onClick:()=>{N.push("/app/settings?tab=security&action=delete")},className:"text-destructive",children:[(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Hesabı Sil"})]}),(0,r.jsx)(g,{}),(0,r.jsxs)(c,{onClick:k,children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:a("auth.signOut")||"\xc7ıkış Yap"})]})]})]})}return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(s.$,{variant:"ghost",onClick:t,children:a("auth.signIn")||"Giriş Yap"}),(0,r.jsx)(s.$,{onClick:t,children:a("auth.signUp")||"Kayıt Ol"})]})}},62523:(e,t,a)=>{a.d(t,{p:()=>n});var r=a(95155);a(12115);var s=a(59434);function n(e){let{className:t,type:a,...n}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},66688:(e,t,a)=>{a.d(t,{U:()=>l});var r=a(95155);a(12115);var s=a(62098),n=a(93509),i=a(51362),o=a(30285);function l(){let{setTheme:e,theme:t}=(0,i.D)();return(0,r.jsxs)(o.$,{variant:"outline",size:"icon",onClick:()=>e("light"===t?"dark":"light"),className:"theme-toggle relative overflow-hidden transition-all duration-500 hover:scale-110 hover:shadow-lg",children:[(0,r.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[(0,r.jsx)(s.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all duration-700 ease-in-out dark:-rotate-180 dark:scale-0 absolute"}),(0,r.jsx)(n.A,{className:"h-[1.2rem] w-[1.2rem] rotate-180 scale-0 transition-all duration-700 ease-in-out dark:rotate-0 dark:scale-100 absolute"})]}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}},66695:(e,t,a)=>{a.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>i});var r=a(95155);a(12115);var s=a(59434);function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...a})}function d(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...a})}},85057:(e,t,a)=>{a.d(t,{J:()=>i});var r=a(95155);a(12115);var s=a(72797),n=a(59434);function i(e){let{className:t,...a}=e;return(0,r.jsx)(s.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},91394:(e,t,a)=>{a.d(t,{BK:()=>o,eu:()=>i,q5:()=>l});var r=a(95155);a(12115);var s=a(78513),n=a(59434);function i(e){let{className:t,...a}=e;return(0,r.jsx)(s.bL,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)(s._V,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)(s.H4,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}}}]);