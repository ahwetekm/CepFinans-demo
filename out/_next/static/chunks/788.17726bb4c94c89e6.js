"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{20788:(n,e,a)=>{a.d(e,{EmailService:()=>i});class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}generateVerificationUrl(n,e){return"".concat(this.baseUrl,"/auth/callback?access_token=").concat(e,"&refresh_token=").concat(e,"&type=signup&email=").concat(encodeURIComponent(n))}createVerificationEmail(n,e,a){let i=function(n){let{userName:e,verificationUrl:a,expirationHours:i=24}=n,t=new Date().getFullYear();return'\n<!DOCTYPE html>\n<html lang="tr">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>CepFinans - Email Doğrulama</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n            background-color: #f8fafc;\n            color: #334155;\n            line-height: 1.6;\n        }\n        \n        .email-container {\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n            background-color: #ffffff;\n        }\n        \n        .header {\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            padding: 40px 30px;\n            text-align: center;\n            border-radius: 12px 12px 0 0;\n        }\n        \n        .logo {\n            width: 120px;\n            height: auto;\n            margin-bottom: 20px;\n        }\n        \n        .header h1 {\n            color: #ffffff;\n            font-size: 28px;\n            font-weight: 700;\n            margin-bottom: 8px;\n        }\n        \n        .header p {\n            color: #e2e8f0;\n            font-size: 16px;\n        }\n        \n        .content {\n            padding: 40px 30px;\n            background-color: #ffffff;\n            border-radius: 0 0 12px 12px;\n            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n        }\n        \n        .welcome-text {\n            font-size: 20px;\n            font-weight: 600;\n            color: #1e293b;\n            margin-bottom: 16px;\n        }\n        \n        .message {\n            color: #475569;\n            margin-bottom: 32px;\n            line-height: 1.7;\n        }\n        \n        .verify-button {\n            display: inline-block;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: #ffffff !important;\n            text-decoration: none;\n            padding: 16px 32px;\n            border-radius: 8px;\n            font-size: 16px;\n            font-weight: 600;\n            text-align: center;\n            margin: 24px 0;\n            transition: transform 0.2s ease;\n            cursor: pointer;\n            border: none;\n        }\n        \n        .verify-button:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);\n        }\n        \n        .security-notice {\n            background-color: #fef3c7;\n            border-left: 4px solid #f59e0b;\n            padding: 16px;\n            margin: 24px 0;\n            border-radius: 4px;\n        }\n        \n        .security-notice h3 {\n            color: #92400e;\n            font-size: 14px;\n            font-weight: 600;\n            margin-bottom: 8px;\n        }\n        \n        .security-notice p {\n            color: #78350f;\n            font-size: 14px;\n            line-height: 1.5;\n        }\n        \n        .alternative-link {\n            color: #64748b;\n            font-size: 14px;\n            word-break: break-all;\n            background-color: #f1f5f9;\n            padding: 12px;\n            border-radius: 4px;\n            margin: 16px 0;\n            border: 1px solid #e2e8f0;\n            font-family: \'Monaco\', \'Menlo\', \'Ubuntu Mono\', monospace;\n        }\n        \n        .footer {\n            text-align: center;\n            padding: 30px;\n            background-color: #f8fafc;\n            border-radius: 12px;\n            margin-top: 20px;\n        }\n        \n        .footer p {\n            color: #64748b;\n            font-size: 14px;\n            margin-bottom: 8px;\n        }\n        \n        .footer-links {\n            margin-top: 16px;\n        }\n        \n        .footer-links a {\n            color: #667eea;\n            text-decoration: none;\n            margin: 0 8px;\n            font-size: 14px;\n            transition: color 0.2s ease;\n        }\n        \n        .footer-links a:hover {\n            color: #764ba2;\n            text-decoration: underline;\n        }\n        \n        @media only screen and (max-width: 600px) {\n            .email-container {\n                padding: 10px;\n            }\n            \n            .header, .content, .footer {\n                padding: 20px;\n            }\n            \n            .header h1 {\n                font-size: 24px;\n            }\n            \n            .welcome-text {\n                font-size: 18px;\n            }\n            \n            .verify-button {\n                padding: 14px 24px;\n                font-size: 14px;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class="email-container">\n        \x3c!-- Header --\x3e\n        <div class="header">\n            <h1>CepFinans</h1>\n            <p>Kişisel Finans Y\xf6netim Uygulamanız</p>\n        </div>\n        \n        \x3c!-- Content --\x3e\n        <div class="content">\n            <h2 class="welcome-text">\n                Hoş Geldiniz'.concat(e?" "+e:"",'! \uD83D\uDC4B\n            </h2>\n            \n            <p class="message">\n                CepFinans\'a kaydolduğunuz i\xe7in teşekk\xfcr ederiz! Hesabınızı aktif hale getirmek ve kişisel finans y\xf6netim uygulamasını kullanmaya başlamak i\xe7in l\xfctfen aşağıdaki butona tıklayarak email adresinizi doğrulayın.\n            </p>\n            \n            \x3c!-- Verify Button --\x3e\n            <div style="text-align: center;">\n                <a href="').concat(a,'" class="verify-button" target="_blank" rel="noopener noreferrer">\n                    Email Adresimi Doğrula\n                </a>\n            </div>\n            \n            \x3c!-- Security Notice --\x3e\n            <div class="security-notice">\n                <h3>\uD83D\uDD12 G\xfcvenlik Uyarısı</h3>\n                <p>\n                    Bu doğrulama linki sadece ').concat(i,' saat ge\xe7erlidir. Eğer bu işlemi siz yapmadıysanız, l\xfctfen bu emaili dikkate almayın. Hesabınız g\xfcvendedir.\n                </p>\n            </div>\n            \n            \x3c!-- Alternative Link --\x3e\n            <div>\n                <p style="color: #64748b; font-size: 14px; margin-bottom: 8px;">\n                    Eğer buton \xe7alışmıyorsa, aşağıdaki linki kopyalayıp tarayıcınıza yapıştırabilirsiniz:\n                </p>\n                <div class="alternative-link">\n                    ').concat(a,'\n                </div>\n            </div>\n            \n            <p class="message">\n                Doğrulama işleminden sonra finansal hedeflerinizi belirleyebilir, gelir ve giderlerinizi takip edebilir, b\xfct\xe7eler oluşturabilir ve finansal geleceğinizi daha iyi y\xf6netebilirsiniz.\n            </p>\n        </div>\n        \n        \x3c!-- Footer --\x3e\n        <div class="footer">\n            <p>\xa9 ').concat(t,' CepFinans. T\xfcm hakları saklıdır.</p>\n            <p>Finansal \xf6zg\xfcrl\xfcğ\xfcn\xfcz i\xe7in buradayız!</p>\n            <div class="footer-links">\n                <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">Web Sitesi</a>\n                <a href="mailto:destek@cepfinans.com">Destek</a>\n                <a href="http://localhost:3000/privacy" target="_blank" rel="noopener noreferrer">Gizlilik Politikası</a>\n            </div>\n        </div>\n    </div>\n</body>\n</html>\n  ')}({userName:a,verificationUrl:this.generateVerificationUrl(n,e),expirationHours:24});return{to:n,subject:"CepFinans - Email Adresinizi Doğrulayın",htmlContent:i,userName:a}}async sendEmail(n){try{let e=await fetch("/api/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok){let n=await e.json();throw Error(n.error||"Email g\xf6nderilemedi")}return{success:!0}}catch(n){return console.error("Email sending error:",n),{success:!1,error:n instanceof Error?n.message:"Bilinmeyen hata"}}}constructor(){this.baseUrl="http://localhost:3000"}}}}]);